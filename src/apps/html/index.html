<!--
******************************************************************************
#
# Copyright (C) 2023 - 2028 KETI, All rights reserved.
#                           (Korea Electronics Technology Institute)
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# Use of the Software is limited solely to applications:
# (a) running for Korean Government Project, or
# (b) that interact with KETI project/platform.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
# KETI BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
# WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF
# OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.
#
# Except as contained in this notice, the name of the KETI shall not be used
# in advertising or otherwise to promote the sale, use or other dealings in
# this Software without prior written authorization from KETI.
#
******************************************************************************
-->

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Guides</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bungee+Inline&display=swap" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.js"></script>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<link rel="stylesheet" href="styles.css">

</head>
<body>
<div id="map"></div>
<div id="bottom-info-background"></div>





<!-- 
<div id="csv-status">
    <span id="csv-data-count">ÏàòÏßëÎêú Îç∞Ïù¥ÌÑ∞: 0Í∞ú</span>
    <button id="downloadCSVButton" onclick="downloadCSV()">CSV Îã§Ïö¥Î°úÎìú</button>
    <button id="clearCSVButton" onclick="clearCSVData()">Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî</button>
    <button id="autoSaveButton" onclick="toggleAutoSave()">ÏûêÎèôÏ†ÄÏû• ÏãúÏûë</button>
</div>
-->



<!-- Í∑∏ÎûòÌîÑ Î≤ÑÌäºÎì§ -->
<div id="graph-buttons" style="display: none;">
    <!-- PRR Î≤ÑÌäº -->
    <div id="prr-button" class="graph-button-expandable">
        <button class="graph-button-header">
            <div class="graph-button-single-line">
                PRR ÌòÑÏû¨:<span id="prr-current">--%</span> ÌèâÍ∑†:<span id="prr-average">--%</span>
            </div>
        </button>
        
        <!-- PRR Í∑∏ÎûòÌîÑ -->
        <div id="graph1" class="liquid-graph-container" style="display: none;">
            <div class="graph-content">
                <div id="prr-chart-area" class="chart-area"></div>
            </div>
            <div class="graph-controls">
                <div class="control-row">
                    <label class="control-label">Ìå®ÌÇ∑ ÌÅ¨Í∏∞:</label>
                    <input type="number" id="prr-range-size-input" class="size-input" value="500" min="0" max="1000" step="10">
                    <span class="control-unit">Ìå®ÌÇ∑</span>
                </div>
                <div class="slider-container">
                    <div id="prr-range-track" class="range-track">
                        <div id="prr-selected-range" class="selected-range"></div>
                    </div>
                </div>
                <div id="prr-range-text" class="range-info">Î≤îÏúÑ: 0 ~ 500 Ìå®ÌÇ∑ (ÌÅ¨Í∏∞: 500)</div>
            </div>
        </div>
    </div>
    
    <!-- Latency Î≤ÑÌäº -->
    <div id="latency-button" class="graph-button-expandable">
        <button class="graph-button-header">
            <div class="graph-button-single-line">
                Latency ÌòÑÏû¨:<span id="latency-current">--ms</span> ÌèâÍ∑†:<span id="latency-average">--ms</span>
            </div>
        </button>
        
        <!-- Latency Í∑∏ÎûòÌîÑ -->
        <div id="graph2" class="liquid-graph-container" style="display: none;">
            <div class="graph-content">
                <div id="latency-chart-area" class="chart-area"></div>
            </div>
        </div>
    </div>
    
    <!-- RSSI Î≤ÑÌäº -->
    <div id="rssi-button" class="graph-button-expandable">
        <button class="graph-button-header">
            <div class="graph-button-single-line">
                RSSI ÌòÑÏû¨:<span id="rssi-current">--dBm</span> ÌèâÍ∑†:<span id="rssi-average">--dBm</span>
            </div>
        </button>
        
        <!-- RSSI Í∑∏ÎûòÌîÑ -->
        <div id="graph3" class="liquid-graph-container" style="display: none;">
            <div class="graph-content">
                <div id="rssi-chart-area" class="chart-area"></div>
            </div>
        </div>
    </div>
    
    <!-- RCPI Î≤ÑÌäº -->
    <div id="rcpi-button" class="graph-button-expandable">
        <button class="graph-button-header">
            <div class="graph-button-single-line">
                RCPI ÌòÑÏû¨:<span id="rcpi-current">--dBm</span> ÌèâÍ∑†:<span id="rcpi-average">--dBm</span>
            </div>
        </button>
        
        <!-- RCPI Í∑∏ÎûòÌîÑ -->
        <div id="graph4" class="liquid-graph-container" style="display: none;">
            <div class="graph-content">
                <div id="rcpi-chart-area" class="chart-area"></div>
            </div>
        </div>
    </div>
</div>

<!-- Í∏∞Ï°¥ Í∑∏ÎûòÌîÑ Ïª®ÌÖåÏù¥ÎÑà Ï†úÍ±∞ -->

<!-- Ïû•ÏπòÎ≥Ñ ÏÑºÏÑúÍ∞í ÌëúÏãú (Ï¥àÍ∏∞ÏóêÎäî Ïà®ÍπÄ) -->
<!-- OBU TX Ïû•Ïπò ÏÑºÏÑúÍ∞í -->
<div id="obu-tx-sensor" class="sensor-panel" style="display: none;">
    <div class="sensor-header">
        <h3>üöó <span id="obu-tx-device-name">OBU TX Device</span></h3>
        <div class="device-status">
            <span id="obu-tx-status">Ïó∞Í≤∞Îê®</span>
            <span id="obu-tx-last-seen">Î∞©Í∏à Ï†Ñ</span>
        </div>
    </div>
    
    <!-- Ïû•ÏπòÎ≥Ñ Ï†úÏñ¥ Î≤ÑÌäº -->
    <div class="sensor-controls">
        <button id="obu-tx-auto-track" class="sensor-control-button">AUTO TRACK</button>
        <button id="obu-tx-visible-path" class="sensor-control-button">VISIBLE PATH</button>
        <button id="obu-tx-communication-line" class="sensor-control-button" data-button-type="communication">COMM LINE</button>
    </div>
    
    <table class="sensor-table">
        <tbody>
            <tr>
                <td>Device ID</td>
                <td id="obu-tx-device-id">-</td>
            </tr>
            <tr>
                <td>Latitude</td>
                <td id="obu-tx-latitude">-</td>
            </tr>
            <tr>
                <td>Longitude</td>
                <td id="obu-tx-longitude">-</td>
            </tr>
            <tr>
                <td>Speed</td>
                <td id="obu-tx-speed">-</td>
            </tr>
            <tr>
                <td>Heading</td>
                <td id="obu-tx-heading">-</td>
            </tr>
            <tr>
                <td>SW Version</td>
                <td id="obu-tx-sw-version">-</td>
            </tr>
            <tr>
                <td>HW Version</td>
                <td id="obu-tx-hw-version">-</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- OBU RX Ïû•Ïπò ÏÑºÏÑúÍ∞í -->
<div id="obu-rx-sensor" class="sensor-panel" style="display: none;">
    <div class="sensor-header">
        <h3>üöó <span id="obu-rx-device-name">OBU RX Device</span></h3>
        <div class="device-status">
            <span id="obu-rx-status">Ïó∞Í≤∞Îê®</span>
            <span id="obu-rx-last-seen">Î∞©Í∏à Ï†Ñ</span>
        </div>
    </div>
    
    <!-- Ïû•ÏπòÎ≥Ñ Ï†úÏñ¥ Î≤ÑÌäº -->
    <div class="sensor-controls">
        <button id="obu-rx-auto-track" class="sensor-control-button">AUTO TRACK</button>
        <button id="obu-rx-visible-path" class="sensor-control-button">VISIBLE PATH</button>
        <button id="obu-rx-communication-line" class="sensor-control-button" data-button-type="communication">COMM LINE</button>
    </div>
    
    <table class="sensor-table">
        <tbody>
            <tr>
                <td>Device ID</td>
                <td id="obu-rx-device-id">-</td>
            </tr>
            <tr>
                <td>Latitude</td>
                <td id="obu-rx-latitude">-</td>
            </tr>
            <tr>
                <td>Longitude</td>
                <td id="obu-rx-longitude">-</td>
            </tr>
            <tr>
                <td>Speed</td>
                <td id="obu-rx-speed">-</td>
            </tr>
            <tr>
                <td>Heading</td>
                <td id="obu-rx-heading">-</td>
            </tr>
            <tr>
                <td>SW Version</td>
                <td id="obu-rx-sw-version">-</td>
            </tr>
            <tr>
                <td>HW Version</td>
                <td id="obu-rx-hw-version">-</td>
            </tr>
            <tr>
                <td>Distance</td>
                <td id="obu-rx-distance">-</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- RSU Ïû•Ïπò ÏÑºÏÑúÍ∞í -->
<div id="rsu-sensor" class="sensor-panel" style="display: none;">
    <div class="sensor-header">
        <h3>üì° <span id="rsu-device-name">RSU Infrastructure</span></h3>
        <div class="device-status">
            <span id="rsu-status">ÌôúÏÑ±</span>
            <span id="rsu-last-seen">ÏÉÅÏãú Ïó∞Í≤∞</span>
        </div>
    </div>
    
    <!-- RSU Ï†úÏñ¥ Î≤ÑÌäº -->
    <div class="sensor-controls">
        <button id="rsu-communication-line" class="sensor-control-button" data-button-type="communication">COMM LINE</button>
    </div>
    <table class="sensor-table">
        <tbody>
            <tr>
                <td>Device ID</td>
                <td id="rsu-device-id">-</td>
            </tr>
            <tr>
                <td>Latitude</td>
                <td id="rsu-latitude">-</td>
            </tr>
            <tr>
                <td>Longitude</td>
                <td id="rsu-longitude">-</td>
            </tr>
            <tr>
                <td>Role</td>
                <td id="rsu-role">Infrastructure</td>
            </tr>
            <tr>
                <td>Coverage</td>
                <td id="rsu-coverage">500m</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- ÌôúÏÑ± Ïû•Ïπò Î™©Î°ù ÌëúÏãú (OBU/RSU Î∂ÑÎ¶¨) -->
<div id="device-list-container">
    <!-- OBU ÏÑπÏÖò -->
    <div class="device-section-expandable">
        <div class="device-list-header obu-header">
            <button class="device-list-header-button">
                <h3>üöó OBU Devices</h3>
                <div id="obu-count" class="device-count">0Í∞ú</div>
            </button>
        </div>
                    <div id="obu-list" class="device-list" style="display: none;">
                <div class="no-devices">Í≤ÄÏÉâÎêú OBU Ïû•ÏπòÍ∞Ä ÏóÜÏäµÎãàÎã§</div>
            </div>
    </div>
    
    <!-- RSU ÏÑπÏÖò -->
    <div class="device-section-expandable">
        <div class="device-list-header rsu-header">
            <button class="device-list-header-button">
                <h3>üì° RSU Infrastructure</h3>
                <div id="rsu-count" class="device-count">0Í∞ú</div>
            </button>
        </div>
                    <div id="rsu-list" class="device-list" style="display: none;">
                <div class="no-devices">Í≤ÄÏÉâÎêú RSU Ïû•ÏπòÍ∞Ä ÏóÜÏäµÎãàÎã§</div>
            </div>
    </div>
</div>

<div id="modal-background"></div>

<div id="modal">
    <h2>KETI ATHENA<br>Application Software</h2>
    <label for="vehType">Ï∞®Îüâ Type C-VEH(cv), ÎòêÎäî A-VEH(av)Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</label><br>
    <input type="text" id="vehType" class="modal-input" placeholder="cv ÎòêÎäî av"><br>
    <label for="testType">ÏûÖÎ†• ÌååÏùº Type(Tx ÎòêÎäî Rx)Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</label><br>
    <input type="text" id="testType" class="modal-input" placeholder="Tx ÎòêÎäî Rx"><br>
    <label for="ipAddress">Ïû•ÎπÑ IP Ï£ºÏÜåÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</label><br>
    <input type="text" id="ipAddress" class="modal-input" placeholder="Í∏∞Î≥∏Í∞í: 10.252.110.58"><br>
    <label for="visiblePath">Visible Path Ïó¨Î∂Ä (Yes ÎòêÎäî No)Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</label><br>
    <input type="text" id="visiblePath" class="modal-input" placeholder="Í∏∞Î≥∏Í∞í: No"><br>
    <label for="regionSelect">ÏßÄÏó≠ÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.</label><br>
    <select id="regionSelect" class="modal-input">
        <option value="pangyo">ÌåêÍµê</option>
        <option value="daegu">ÎåÄÍµ¨</option>
        <option value="incheon">Ïù∏Ï≤ú</option>
        <option value="cheongju">Ï≤≠Ï£º</option>
        <option value="hwaseong">ÌôîÏÑ±</option>
    </select><br>
    <button id="submit-button" class="modal-button">ÌôïÏù∏</button>
</div>

<button id="autoTrackButton">AUTO TRACK</button>
<button id="visiblePathButton">VISIBLE PATH</button>

<div id="ci-logo">
    <img src="https://raw.githubusercontent.com/KETI-A/athena/main/src/apps/html/images/keti_ci.png" alt="CI Logo">
</div>
<div id="coordinate-popup" style="display: none; position: absolute; padding: 10px; background-color: rgba(0, 0, 0, 0.8); color: white; border-radius: 5px; font-size: 14px; z-index: 10;">
    <p id="coordinate-text"></p>
</div>





<div id="datetime-info"></div>

<script src="main.js"></script>

</body>
</html>